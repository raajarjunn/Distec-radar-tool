{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Register — TECHNOLOGY RADAR TOOL</title>

  <!-- Vendor / Argon CSS (no argon.js) -->
  <link rel="icon" href="{% static 'assets/img/brand/favicon.png' %}" type="image/png">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700">
  <link rel="stylesheet" href="{% static 'assets/vendor/nucleo/css/nucleo.css' %}">
  <link rel="stylesheet" href="{% static 'assets/vendor/@fortawesome/fontawesome-free/css/all.min.css' %}">
  <link rel="stylesheet" href="{% static 'assets/css/argon.css' %}?v=1.2.0">

  <style>
    :root{
      --brand-font: "Avenir Next", Avenir, "Segoe UI", Inter, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif;
      --glass: rgba(255,255,255,.78);
    }
    html, body { height: 100%; }
    body { font-family: var(--brand-font); }

    /* Background */
    .auth-wrap{
      min-height: 100svh; min-height: 100vh;
      background: url("{% static 'assets/img/wall_2.jpg' %}") center center / cover no-repeat fixed;
      display: grid;
      grid-template-columns: 1fr;
      align-items: center;              /* vertical center for the card */
      position: relative;
      padding-left: max(env(safe-area-inset-left), 0px);
      padding-right: max(env(safe-area-inset-right), 0px);
    }
    @media (max-width: 991.98px){
      .auth-wrap{ background-attachment: scroll; }
    }

    /* Top-center titles (no logo) */
    .brand-block{
      position: fixed; top: 18px; left: 50%; transform: translateX(-50%);
      display:flex; flex-direction:column; align-items:center; gap:.3rem;
      color:#fff; z-index:10; text-align:center; padding:.25rem .75rem;
      max-width: calc(100vw - 24px);
    }
    .brand-title{
      margin:0; font-weight:300; letter-spacing:.06em; color:#fff;
      text-shadow:0 3px 14px rgba(0,0,0,.45);
      font-size: clamp(1.6rem, 4.2vw, 3rem);
      line-height:1.05; white-space:nowrap;
    }
    .brand-subtitle{
      margin:0; font-weight:600; letter-spacing:.04em; color:#fff; opacity:.95;
      text-shadow:0 3px 14px rgba(0,0,0,.45);
      font-size: clamp(0.95rem, 2.1vw, 1.35rem);
      white-space:nowrap;
    }
    /* On smaller/short screens, unfix header to avoid overlap */
    @media (max-width: 1399.98px), (max-height: 800px){
      .brand-block{ position: static; transform: none; margin: 14px auto 8px; }
      .auth-wrap{ align-items: flex-start; }
    }

    /* Centered card wrapper */
    .center-wrap{
      display:flex; justify-content:center;
      padding-top: clamp(6rem, 12vh, 10rem); /* space under fixed header on large screens */
      padding-bottom: 2rem;
      padding-left: 1rem; padding-right: 1rem;
    }

    /* Glass card */
    .auth-card.card{
      width: 100%;
      max-width: 520px;
      background: var(--glass);
      -webkit-backdrop-filter: blur(8px); backdrop-filter: blur(8px);
      border: 1px solid rgba(255,255,255,.55);
      border-radius: 16px; box-shadow: 0 20px 50px rgba(0,0,0,.20);
      overflow: hidden;
    }
    .auth-card .card-header{
      background: transparent; border-bottom: 1px solid rgba(0,0,0,.08);
      padding: 1rem 1.25rem .85rem;
    }
    .auth-card .card-header h3{
      margin: 0; font-weight: 800; color: #0b0b0b; font-size: clamp(1.4rem, 2vw, 1.7rem);
    }
    .auth-card .card-body{ padding: 1.25rem 1.5rem 1.6rem; }
    .text-muted{ color:#6b7280 !important; }

    .input-group-text{ background:#f8f9fe; border-color:rgba(0,0,0,.08); }
    .input-group .form-control{ border-color:rgba(0,0,0,.10); min-height:44px; }
    .form-control::placeholder{ color:#9aa4b2; }
    .text-error, .errorlist{ color:#e03131; font-size:.9rem; }

    .btn-dark{ background:#0b0b0b; border-color:#0b0b0b; }
    .btn-dark:hover{ background:#111; border-color:#111; }
    .btn-xl{ padding:1rem 1.25rem; font-size:1.05rem; border-radius:.65rem; font-weight:700; }

    /* Right welcome panel */
    .welcome-panel{
      position: fixed; right: 2.2rem; top: 50%;
      transform: translateY(-50%);
      max-width: 32rem; text-align: right; z-index: 5;
    }
    .welcome-panel h2{
      color:#fff; font-weight:300; letter-spacing:.02em; margin-bottom:.5rem;
      font-size: clamp(1.4rem, 3.2vw, 2.4rem);
      text-shadow: 0 3px 14px rgba(0,0,0,.45);
    }
    .welcome-panel p{
      color:#fff; font-weight:300; opacity:.95;
      font-size: clamp(.95rem, 1.2vw, 1.1rem);
      text-shadow: 0 3px 14px rgba(0,0,0,.45);
      margin: 0;
    }
    /* =========================
   REGISTER • Laptop / Short-screen tuning
   Keep welcome panel visible
   ========================= */

/* (A) Undo the old rule that hides the welcome panel on <1200px */
@media (max-width: 1199.98px){
  .welcome-panel{ display: block; }
}

/* (B) Laptop-ish widths or short heights: slightly scale down + tighten */
@media ( (min-width: 992px) and (max-width: 1650px) ), (max-height: 900px) {
  html { font-size: 93%; }  /* ~7% smaller look at 100% zoom */

  /* Avoid overlap from fixed header */
  .brand-block{
    position: static;
    transform: none;
    margin: 12px auto 8px;
  }
  .auth-wrap{ align-items: flex-start; }

  /* Room under headings */
  .center-wrap{
    padding-top: clamp(3.5rem, 8vh, 6rem);
    padding-bottom: 1.5rem;
  }

  /* Headings a touch smaller */
  .brand-title{    font-size: clamp(1.45rem, 3.8vw, 2.8rem); }
  .brand-subtitle{ font-size: clamp(0.9rem, 2vw, 1.25rem); }

  /* Register card a bit narrower/tighter (more fields than login) */
  .auth-card.card{ max-width: 470px; border-radius: 14px; }
  .auth-card .card-header{ padding: .85rem 1rem .7rem; }
  .auth-card .card-header h3{ font-size: clamp(1.2rem, 1.6vw, 1.4rem); }
  .auth-card .card-body{ padding: 1rem 1.25rem 1.2rem; }

  .input-group .form-control{ min-height: 40px; font-size: .95rem; }
  .input-group-text{ padding: .5rem .65rem; }
  .btn-xl{ padding: .85rem 1rem; font-size: 1rem; border-radius: .6rem; }

  /* Keep welcome panel visible but smaller on the right */
  .welcome-panel{
    position: fixed;
    right: 1.6rem;
    top: 50%;
    transform: translateY(-50%);
    max-width: 26rem;
    text-align: right;
    z-index: 5;
  }
  .welcome-panel h2{ font-size: clamp(1.2rem, 2.2vw, 1.9rem); }
  .welcome-panel p{  font-size: clamp(.9rem, 1vw, 1rem); }
}

/* (C) Classic 1366×768 and very short screens:
      scale down a bit more and reflow welcome panel BELOW the form */
@media (max-width: 1366px), (max-height: 820px){
  html { font-size: 90%; }                 /* ~10% smaller */

  .auth-card.card{ max-width: 450px; }

  .welcome-panel{
    position: static;       /* no longer fixed on the right */
    transform: none;
    max-width: 760px;
    margin: 14px auto 10px; /* place it under the card, centered */
    text-align: center;
    padding: 0 16px;
    z-index: 1;
  }
  .welcome-panel h2{
    margin-bottom: .35rem;
    font-size: clamp(1.1rem, 2.2vw, 1.6rem);
  }
  .welcome-panel p{
    font-size: clamp(.95rem, 1.05vw, 1rem);
    margin: 0 auto;
  }
}

/* (D) Tablet / phone: keep panel visible under the card, centered */
@media (max-width: 991.98px){
  .welcome-panel{
    position: static;
    transform: none;
    max-width: 92vw;
    margin: 12px auto 8px;
    text-align: center;
    padding: 0 8px;
  }
}

/* (E) Very small phones: keep the form comfy */
@media (max-width: 575.98px){
  .auth-card .card-header h3{ font-size: 1.15rem; }
  .input-group .form-control{ min-height: 38px; }
  .auth-card.card{ max-width: 94vw; }
}

    @media (max-width: 1199.98px){
      .welcome-panel{ display:none; }
    }

    @media (max-width: 575.98px){
      .auth-card .card-header h3{ font-size: 1.25rem; }
      .input-group .form-control{ min-height: 40px; }
      .auth-card.card{ max-width: 94vw; }
    }
  </style>
</head>
<body class="bg-default">

  <div class="auth-wrap">

    <!-- Top center titles -->
    <div class="brand-block">
      <h1 class="brand-title">SAFRAN TECH</h1>
      <h2 class="brand-subtitle">TECHNOLOGY RADAR TOOL</h2>
    </div>

    <!-- Centered register card -->
    <div class="center-wrap">
      <div class="card auth-card border-0">
        <div class="card-header">
          <h3>Create account</h3>
        </div>
        <div class="card-body">

          <div class="text-muted mb-4 text-center">
            {% if msg %}<small>{{ msg|safe }}</small>
            {% else %}Add your credentials{% endif %}
          </div>

          {% if not success %}
          <form method="POST" novalidate>
            {% csrf_token %}

            <div class="form-group">
              <label class="form-control-label d-block mb-1">Username</label>
              <div class="input-group input-group-alternative mb-2">
                <div class="input-group-prepend">
                  <span class="input-group-text"><i class="ni ni-hat-3"></i></span>
                </div>
                {{ form.username }}
              </div>
              {% if form.username.errors %}
                <div class="text-error">{{ form.username.errors }}</div>
              {% endif %}
            </div>

            <div class="form-group">
              <label class="form-control-label d-block mb-1">Email</label>
              <div class="input-group input-group-alternative mb-2">
                <div class="input-group-prepend">
                  <span class="input-group-text"><i class="ni ni-email-83"></i></span>
                </div>
                {{ form.email }}
              </div>
              {% if form.email.errors %}
                <div class="text-error">{{ form.email.errors }}</div>
              {% endif %}
            </div>

            <div class="form-group">
              <label class="form-control-label d-block mb-1">Password</label>
              <div class="input-group input-group-alternative mb-2">
                <div class="input-group-prepend">
                  <span class="input-group-text"><i class="ni ni-lock-circle-open"></i></span>
                </div>
                {{ form.password1 }}
              </div>
              {% if form.password1.errors %}
                <div class="text-error">{{ form.password1.errors }}</div>
              {% endif %}
            </div>

            <div class="form-group">
              <label class="form-control-label d-block mb-1">Confirm password</label>
              <div class="input-group input-group-alternative mb-2">
                <div class="input-group-prepend">
                  <span class="input-group-text"><i class="ni ni-lock-circle-open"></i></span>
                </div>
                {{ form.password2 }}
              </div>
              {% if form.password2.errors %}
                <div class="text-error">{{ form.password2.errors }}</div>
              {% endif %}
            </div>

            <div class="row my-3">
              <div class="col-12">
                <div class="custom-control custom-control-alternative custom-checkbox">
                  <input class="custom-control-input" id="customCheckRegister" type="checkbox" required>
                  <label class="custom-control-label" for="customCheckRegister">
                    <span class="text-muted">I agree with the <a href="#!">Privacy Policy</a></span>
                  </label>
                </div>
              </div>
            </div>

            <button type="submit" class="btn btn-dark btn-xl btn-block">Create account</button>
            <a href="{% url 'login' %}" class="btn btn-outline-dark btn-block mt-2">Back to login</a>
          </form>
          {% endif %}

        </div>
      </div>
    </div>

    <!-- Extreme-right welcome text -->
    <aside class="welcome-panel" aria-hidden="false">
      <h2>Welcome to DISTEC</h2>
      <p>
        Create your account to capture emerging technologies,
        collaborate across teams, and generate objective scorecards
        inside SAFRAN TECH.
      </p>
    </aside>

  </div>

  <!-- Minimal JS -->
  <script src="{% static 'assets/vendor/jquery/dist/jquery.min.js' %}"></script>
  <script src="{% static 'assets/vendor/bootstrap/dist/js/bootstrap.bundle.min.js' %}"></script>
</body>
</html>
